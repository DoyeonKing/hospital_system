# Server configuration
server:
  port: 8080
  address: 0.0.0.0  # å…è®¸å¤–éƒ¨è®¿é—®ï¼ˆçœŸæœºè°ƒè¯•å¿…éœ€ï¼‰
  tomcat:
    threads:
      max: 200  # æœ€å¤§çº¿ç¨‹æ•°
      min-spare: 10  # æœ€å°ç©ºé—²çº¿ç¨‹æ•°
    max-connections: 10000  # æœ€å¤§è¿æ¥æ•°
    accept-count: 100  # ç­‰å¾…é˜Ÿåˆ—é•¿åº¦

# Spring Data Source (MySQL)
spring:
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 10MB
  # è‡ªå®šä¹‰æ–‡ä»¶ä¸Šä¼ è·¯å¾„
  file:
    upload-dir: images/doctors/

  datasource:
    # âœ… æœ¬åœ°å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨åä¸ºäº‘æ•°æ®åº“
    url: jdbc:mysql://123.249.30.241:3306/hospital_db?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf-8&allowPublicKeyRetrieval=true&connectTimeout=5000&socketTimeout=30000
    username: root
    password: 123456 # ä½¿ç”¨å¼•å·åŒ…è£¹å¯†ç ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦è§£æé—®é¢˜
    # æœ¬åœ°æ•°æ®åº“é…ç½®ï¼ˆå·²æ³¨é‡Šï¼Œå¦‚éœ€åˆ‡æ¢å›æœ¬åœ°æ•°æ®åº“å¯å–æ¶ˆæ³¨é‡Šï¼‰ï¼š
    # url: jdbc:mysql://localhost:3306/hospital_db?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf-8&allowPublicKeyRetrieval=true&connectTimeout=5000&socketTimeout=30000
    # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå·²æ³¨é‡Šï¼Œå¦‚éœ€ä½¿ç”¨ç¯å¢ƒå˜é‡å¯å–æ¶ˆæ³¨é‡Šï¼‰ï¼š
    # url: ${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3307/hospital_07?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf-8&allowPublicKeyRetrieval=true&connectTimeout=5000&socketTimeout=30000}
    # username: ${SPRING_DATASOURCE_USERNAME:root}
    # password: ${SPRING_DATASOURCE_PASSWORD:123456} # ä½¿ç”¨å¼•å·åŒ…è£¹å¯†ç ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦è§£æé—®é¢˜
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      # è¿æ¥æ± é…ç½®ï¼ˆå·²ä¼˜åŒ–ä»¥æ”¯æŒé«˜å¹¶å‘å’Œé•¿æ—¶é—´è¿è¡Œï¼‰
      minimum-idle: 5  # æœ€å°ç©ºé—²è¿æ¥æ•°ï¼ˆä»5å¢åŠ åˆ°20ï¼Œä¿è¯åŸºç¡€è¿æ¥å¯ç”¨ï¼‰
      maximum-pool-size: 20  # æœ€å¤§è¿æ¥æ± å¤§å°ï¼ˆä»20å¢åŠ åˆ°100ï¼Œæ”¯æŒ500å¹¶å‘æµ‹è¯•ï¼‰
      auto-commit: true
      idle-timeout: 180000  # ç©ºé—²è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆä»30ç§’å¢åŠ åˆ°10åˆ†é’Ÿï¼Œå‡å°‘è¿æ¥é‡å»ºï¼‰
      max-lifetime: 1200000  # è¿æ¥æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼ˆä»30åˆ†é’Ÿå¢åŠ åˆ°120åˆ†é’Ÿï¼Œé€‚é…2å°æ—¶ç¨³å®šæ€§æµ‹è¯•ï¼‰
      connection-timeout: 30000  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆå¢åŠ åˆ°90ç§’ï¼Œç»™å¯åŠ¨æ—¶å»ºç«‹è¿æ¥æ± è¶³å¤Ÿæ—¶é—´ï¼Œé€‚ç”¨äºåä¸ºäº‘ç­‰ç½‘ç»œå»¶è¿Ÿåœºæ™¯ï¼‰
      connection-test-query: SELECT 1  # è¿æ¥æµ‹è¯•æŸ¥è¯¢
      pool-name: HospitalHikariPool
      # è¿æ¥æ³„æ¼æ£€æµ‹ï¼ˆå¸®åŠ©å‘ç°æœªæ­£ç¡®å…³é—­çš„è¿æ¥ï¼‰
      leak-detection-threshold: 60000  # 60ç§’ï¼Œå¦‚æœè¿æ¥è¶…è¿‡60ç§’æœªå½’è¿˜ï¼Œè®°å½•è­¦å‘Š
  jpa:
    hibernate:
      ddl-auto: none # æš‚æ—¶ç¦ç”¨è‡ªåŠ¨DDLï¼Œé¿å…å¤–é”®çº¦æŸé—®é¢˜
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
  # security:
  #   user:
  #     name: user # é»˜è®¤ç”¨æˆ·
  #     password: password # é»˜è®¤å¯†ç ï¼Œç”Ÿäº§ç¯å¢ƒåº”ç¦ç”¨æˆ–ä½¿ç”¨æ›´å¤æ‚æœºåˆ¶

  # Redisé…ç½®
  data:
    redis:
      # âœ… æœ¬åœ°å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨æœ¬åœ°Redis
      host: ${SPRING_DATA_REDIS_HOST:localhost}  # ğŸ‘ˆ æœ¬åœ°Redisåœ°å€
      # äº‘æœåŠ¡å™¨Redisé…ç½®ï¼ˆå·²æ³¨é‡Šï¼Œå¦‚éœ€åˆ‡æ¢å›äº‘æœåŠ¡å™¨å¯å–æ¶ˆæ³¨é‡Šï¼‰ï¼š
      # host: ${SPRING_DATA_REDIS_HOST:123.249.30.241}  # ğŸ‘ˆ äº‘æœåŠ¡å™¨Redisåœ°å€
      port: ${SPRING_DATA_REDIS_PORT:6379}
      database: 0
      timeout: 5000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0

# OpenAPI (Swagger UI) configuration
springdoc:
  swagger-ui:
    path: /swagger-ui.html
  api-docs:
    path: /v3/api-docs

# Logging configuration
logging:
  level:
    org.springframework: INFO
    com.example.springboot: DEBUG # è°ƒæ•´ä¸ºä½ çš„æ ¹åŒ…å

# æ–‡ä»¶ä¸Šä¼ é…ç½®
file:
  upload:
    path: uploads/

# AI æ¨¡å‹é…ç½®
ai:
  model:
    path: models/medical_word2vec.bin # Word2Vec æ¨¡å‹æ–‡ä»¶è·¯å¾„ï¼ˆéœ€è¦ä¸‹è½½æ ‡å‡†æ¨¡å‹æ–‡ä»¶ï¼‰

# çŸ­ä¿¡æœåŠ¡é…ç½®
sms:
  enabled: false  # æ˜¯å¦å¯ç”¨çŸ­ä¿¡æœåŠ¡ï¼ˆfalseæ—¶åªè®°å½•æ—¥å¿—ï¼Œä¸å‘é€çœŸå®çŸ­ä¿¡ï¼Œä¸ä¼šäº§ç”Ÿè´¹ç”¨ï¼‰
  provider: twilio  # å¹³å°ç±»å‹ï¼štwilioï¼ˆæ¨èä¸ªäººç”¨æˆ·ï¼‰ã€customï¼ˆè‡ªå®šä¹‰HTTP APIï¼‰ã€juheï¼ˆèšåˆæ•°æ®ï¼Œä»…ä¼ä¸šç”¨æˆ·ï¼‰
  
  # âš ï¸ é‡è¦æç¤ºï¼š
  # 1. èšåˆæ•°æ®ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€åä¸ºäº‘ç­‰ä¸»æµå¹³å°ä»…æ”¯æŒä¼ä¸šç”¨æˆ·
  # 2. ä¸ªäººç”¨æˆ·æ¨èä½¿ç”¨ Twilioï¼ˆæ”¯æŒä¸ªäººï¼Œç¨³å®šå¯é ï¼‰
  # 3. æˆ–ä½¿ç”¨æ”¯æŒä¸ªäººçš„ç¬¬ä¸‰æ–¹çŸ­ä¿¡å¹³å°ï¼Œé€šè¿‡ custom æ–¹å¼æ¥å…¥
  
  # Twilioå¹³å°é…ç½®ï¼ˆæ¨èä¸ªäººç”¨æˆ·ä½¿ç”¨ï¼‰
  twilio:
    account-sid: AC824e3c3378e8abf2db7523db6e68be58  # ä»Twilioæ§åˆ¶å°è·å–
    auth-token: 722adcd055351a640fcce5df9213ced4  # ä»Twilioæ§åˆ¶å°è·å–
    from-number: +13369103119  # Twilioæä¾›çš„å‘é€æ–¹å·ç ï¼ˆæ ¼å¼ï¼š+å›½å®¶ä»£ç +å·ç ï¼‰
  
  # è‡ªå®šä¹‰HTTP APIå¹³å°é…ç½®ï¼ˆå¦‚æœä½¿ç”¨å…¶ä»–å¹³å°ï¼‰
  # api-url: https://api.example.com/sendSms  # æ›¿æ¢ä¸ºä½ çš„çŸ­ä¿¡å¹³å°APIåœ°å€
  # api-key: ä½ çš„APIå¯†é’¥  # ä»çŸ­ä¿¡å¹³å°è·å–
  # api-secret: ä½ çš„APIå¯†é’¥2  # å¦‚æœå¹³å°éœ€è¦ï¼ˆå¯é€‰ï¼‰
  # sign: æ ¡åŒ»é™¢  # çŸ­ä¿¡ç­¾åï¼ˆæ ¹æ®å¹³å°è¦æ±‚å¡«å†™ï¼‰
  # template-id: ä½ çš„æ¨¡æ¿ID  # å¦‚æœä½¿ç”¨æ¨¡æ¿å‘é€ï¼ˆå¯é€‰ï¼‰
  
  # èšåˆæ•°æ®å¹³å°é…ç½®ï¼ˆä»…ä¼ä¸šç”¨æˆ·å¯ç”¨ï¼Œä¸ªäººç”¨æˆ·è¯·å¿½ç•¥ï¼‰
  # juhe:
  #   app-key: ä½ çš„èšåˆæ•°æ®API_Key
  #   template-id: ä½ çš„æ¨¡æ¿ID