# 域名购买和配置指南

## ⚠️ 重要提示

根据华为云公告，**华为云已于2025年7月26日停止销售域名注册服务**。

这意味着：
- ❌ 无法在华为云购买新域名
- ✅ 但可以在其他平台购买域名
- ✅ 购买后仍可在华为云配置域名解析（使用云解析服务DNS）

---

## 🛒 推荐域名注册平台

### 方案一：阿里云（万网）- 推荐

**优势**：
- 国内最大的域名注册商
- 价格透明，续费稳定
- 管理界面友好
- 支持快速备案

**购买步骤**：
1. 访问：https://wanwang.aliyun.com/
2. 注册/登录阿里云账号
3. 在搜索框输入想要的域名（如：`hospital-api`）
4. 选择后缀（推荐：`.com`、`.cn`、`.net`）
5. 加入购物车并结算
6. 完成实名认证（必须）

**价格参考**：
- `.com` 域名：约 55-69元/年
- `.cn` 域名：约 29-35元/年
- `.net` 域名：约 55-69元/年

### 方案二：腾讯云

**优势**：
- 国内知名云服务商
- 与微信小程序生态集成好
- 价格合理

**购买步骤**：
1. 访问：https://dnspod.cloud.tencent.com/
2. 注册/登录腾讯云账号
3. 搜索并购买域名
4. 完成实名认证

**价格参考**：
- `.com` 域名：约 55-69元/年
- `.cn` 域名：约 29-35元/年

### 方案三：GoDaddy（国际平台）

**优势**：
- 全球最大域名注册商
- 价格便宜（首年）
- 无需实名认证

**注意**：
- 续费价格可能较高
- 如果用于国内服务，建议选择国内平台

### 方案四：Namecheap（国际平台）

**优势**：
- 价格便宜
- 界面友好
- 支持多种支付方式

---

## 📝 购买域名后的配置步骤

### 第一步：在华为云配置域名解析

即使域名在其他平台购买，也可以在华为云配置解析：

1. **进入华为云DNS控制台**
   - 在华为云控制台搜索：**云解析服务 DNS**
   - 或直接访问：https://console.huaweicloud.com/dns/

2. **添加公网域名**
   - 点击 **公网域名** → **创建公网域名**
   - 输入你购买的域名（如：`yourdomain.com`）
   - 点击 **确定**

3. **修改DNS服务器（重要！）**
   - 在域名注册商（如阿里云）的管理后台
   - 找到 **DNS服务器** 或 **域名解析** 设置
   - 修改为华为云的DNS服务器：
     ```
     ns1.hwclouds-dns.com
     ns2.hwclouds-dns.com
     ```
   - 保存设置（通常24小时内生效）

4. **添加解析记录**
   - 在华为云DNS控制台，点击你的域名
   - 点击 **添加记录集**
   - 配置：
     ```
     主机记录：api（表示 api.yourdomain.com）
     类型：A
     线路类型：全网默认
     记录值：你的华为云EIP地址
     TTL：300
     ```
   - 点击 **确定**

### 第二步：申请SSL证书

1. **在华为云申请免费SSL证书**
   - 搜索：**SSL证书管理**
   - 购买免费证书（DigiCert免费证书）
   - 填写域名：`api.yourdomain.com`
   - 选择 **自动DNS验证**（最简单）
   - 等待验证通过并下载证书

### 第三步：在服务器配置HTTPS

参考 `华为云域名配置快速步骤.md` 中的第四步。

---

## 🎯 快速购买流程（以阿里云为例）

### 1. 注册/登录
- 访问：https://wanwang.aliyun.com/
- 使用支付宝或手机号注册

### 2. 搜索域名
- 在搜索框输入想要的域名前缀
- 例如：`hospital-api`、`myhospital`、`hospital-system`
- 查看可用性和价格

### 3. 选择域名
- 选择 `.com` 或 `.cn` 后缀
- 加入购物车

### 4. 结算
- 选择购买年限（建议1-3年）
- 完成支付

### 5. 实名认证
- 在阿里云控制台完成域名实名认证
- 上传身份证或营业执照
- 通常1-3个工作日审核

### 6. 配置DNS
- 在阿里云域名控制台
- 找到 **DNS修改** 或 **域名解析**
- 修改DNS服务器为华为云的DNS（见上面步骤）

---

## 💡 域名选择建议

### 推荐格式
- `api.yourdomain.com` - API服务
- `hospital-api.com` - 医院API
- `myhospital.com` - 医院系统

### 注意事项
1. **简短易记**：避免过长或难拼写的域名
2. **避免特殊字符**：不要使用连字符过多
3. **选择常见后缀**：`.com`、`.cn`、`.net` 优先
4. **检查商标**：避免使用已注册商标的词汇

---

## 🔄 完整配置流程总结

```
1. 在阿里云/腾讯云购买域名
   ↓
2. 完成域名实名认证
   ↓
3. 在域名注册商修改DNS为华为云DNS
   ↓
4. 在华为云DNS控制台添加域名
   ↓
5. 添加A记录解析到EIP
   ↓
6. 在华为云申请SSL证书
   ↓
7. 在服务器配置HTTPS（Nginx）
   ↓
8. 测试访问 https://api.yourdomain.com
   ↓
9. 配置小程序使用该域名
```

---

## ❓ 常见问题

### Q: 域名必须备案吗？

**A**: 
- **体验版小程序**：通常不需要备案
- **正式版小程序**：根据类目，部分需要备案
- **如果使用国内服务器**：建议备案（避免被拦截）

### Q: 域名购买后多久可以使用？

**A**: 
- 购买后立即可以使用
- DNS修改通常24小时内生效
- 实名认证需要1-3个工作日

### Q: 可以在华为云配置其他平台购买的域名吗？

**A**: 
- ✅ 可以！这是推荐的做法
- 只需将DNS服务器改为华为云的DNS
- 然后在华为云DNS控制台添加域名即可

### Q: 域名续费价格会变吗？

**A**: 
- 首年价格通常较低（促销价）
- 续费价格可能较高
- 建议购买时查看续费价格
- 可以一次性购买多年（通常有优惠）

### Q: 如果不想买域名怎么办？

**A**: 
可以使用以下临时方案：
1. **使用API网关测试域名**（华为云提供，免费但可能不稳定）
2. **使用内网穿透工具**（如ngrok，提供临时HTTPS域名）
3. **使用云函数默认域名**（如果后端是云函数）

---

## 📋 购买域名检查清单

- [ ] 已选择域名注册平台（推荐阿里云或腾讯云）
- [ ] 已搜索并选择可用域名
- [ ] 已确认价格和续费价格
- [ ] 已完成购买和支付
- [ ] 已完成域名实名认证
- [ ] 已修改DNS服务器为华为云DNS
- [ ] 已在华为云DNS控制台添加域名
- [ ] 已添加A记录解析到EIP

---

## 🚀 下一步

购买域名后，按照以下顺序操作：

1. **配置域名解析** → 参考 `华为云域名配置快速步骤.md`
2. **申请SSL证书** → 在华为云SSL证书管理申请免费证书
3. **配置HTTPS** → 在服务器上配置Nginx
4. **测试访问** → 确保 https://api.yourdomain.com 可以访问
5. **配置小程序** → 修改小程序配置并上传体验版

---

## 📞 需要帮助？

- **阿里云客服**：95187
- **腾讯云客服**：95716
- **华为云技术支持**：https://support.huaweicloud.com/




