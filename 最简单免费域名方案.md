# 最简单免费域名方案 - 3分钟搞定

## 🚀 方案一：使用ngrok（最简单，推荐）

### 为什么选择ngrok？
- ✅ 完全免费
- ✅ 3分钟就能用
- ✅ 自带HTTPS证书
- ✅ 不需要买域名
- ✅ 不需要配置服务器
- ✅ 微信小程序可以直接用

### 操作步骤（3步搞定）

#### 第1步：注册ngrok账号（1分钟）

1. 访问：https://ngrok.com/
2. 点击右上角 **"Sign up"** 注册
3. 用邮箱注册（免费）
4. 登录后，在左侧菜单找到 **"Your Authtoken"**
5. **复制你的authtoken**（类似：`2abc123def456...`）

#### 第2步：下载并运行ngrok（1分钟）

**Windows系统：**

1. 在ngrok网站点击 **"Download"**
2. 下载Windows版本（ngrok.exe）
3. 解压到一个文件夹（如：`C:\ngrok`）

4. **打开命令行（CMD或PowerShell）**，进入ngrok文件夹：
   ```bash
   cd C:\ngrok
   ```

5. **配置authtoken**：
   ```bash
   ngrok config add-authtoken 你的authtoken
   ```
   （把"你的authtoken"替换成第1步复制的）

6. **启动ngrok**（假设你的Spring Boot在8080端口）：
   ```bash
   ngrok http 8080
   ```

#### 第3步：获取免费域名（1分钟）

运行后，ngrok会显示类似这样的信息：

```
Forwarding  https://xxxxx.ngrok-free.app -> http://localhost:8080
```

**这个 `https://xxxxx.ngrok-free.app` 就是你的免费域名！**

复制这个域名，直接配置到小程序即可。

### 配置到小程序

1. **修改小程序配置**

   编辑 `uni_app/config/index.js`：
   ```javascript
   const production = {
       baseURL: 'https://xxxxx.ngrok-free.app',  // 👈 你的ngrok域名
       aiBaseURL: 'https://xxxxx.ngrok-free.app'
   }
   
   const USE_PRODUCTION = true
   ```

2. **在微信公众平台配置域名**

   - 登录：https://mp.weixin.qq.com/
   - 进入：**开发** → **开发管理** → **开发设置**
   - 找到 **服务器域名**，点击 **修改**
   - 添加：`https://xxxxx.ngrok-free.app`
   - 保存

### 完成！✅

就这么简单，3步搞定！

---

## 🚀 方案二：使用natapp（国内，速度更快）

### 操作步骤

1. **访问**：https://natapp.cn/
2. **注册账号**（免费）
3. **登录后，点击"购买隧道"**
4. **选择"免费隧道"**
5. **配置隧道**：
   - 隧道名称：随便填
   - 本地端口：8080（你的Spring Boot端口）
   - 协议：http
6. **保存后，复制autotoken**
7. **下载客户端**（Windows版本）
8. **运行natapp**：
   ```bash
   natapp -authtoken=你的autotoken
   ```
9. **获取域名**：运行后会显示类似 `https://xxxxx.natapp1.cc` 的域名

### 配置到小程序（同上）

---

## ⚠️ 注意事项

### ngrok免费版的限制：
- 每次启动域名可能不同（但可以固定，需要付费版）
- 有连接数限制（通常够用）
- 适合测试使用

### natapp免费版的限制：
- 域名每次启动可能不同
- 有流量限制
- 适合测试使用

---

## 💡 推荐方案对比

| 方案 | 难度 | 时间 | 稳定性 | 推荐度 |
|------|------|------|--------|--------|
| ngrok | ⭐ | 3分钟 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| natapp | ⭐ | 5分钟 | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 华为云API网关 | ⭐⭐⭐ | 30分钟 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| 购买域名 | ⭐⭐ | 1小时+ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 🎯 快速开始（推荐ngrok）

### 完整命令（复制粘贴即可）

```bash
# 1. 下载ngrok后，打开命令行，进入ngrok文件夹
cd C:\ngrok

# 2. 配置authtoken（替换成你的）
ngrok config add-authtoken 你的authtoken

# 3. 启动（确保Spring Boot在运行）
ngrok http 8080
```

### 然后：
1. 复制显示的HTTPS域名
2. 配置到小程序
3. 完成！

---

## ❓ 常见问题

### Q: ngrok域名每次启动都变怎么办？

**A**: 
- 免费版确实会变
- 每次启动后重新配置小程序域名即可
- 或者升级到付费版（可以固定域名）

### Q: 需要一直开着ngrok吗？

**A**: 
- 是的，需要一直运行
- 可以最小化到后台
- 或者写个脚本开机自启

### Q: 可以用于正式版小程序吗？

**A**: 
- 技术上可以，但不推荐
- 免费版不稳定
- 正式版建议购买域名

### Q: Spring Boot需要修改配置吗？

**A**: 
- 不需要！
- ngrok会自动转发到你的localhost:8080
- 你的Spring Boot配置完全不用改

---

## ✅ 总结

**最简单方案**：使用ngrok
- 3分钟搞定
- 完全免费
- 自带HTTPS
- 不需要任何服务器配置

**操作流程**：
1. 注册ngrok → 获取authtoken
2. 下载运行 → 获取免费域名
3. 配置到小程序 → 完成！

就这么简单！🎉






