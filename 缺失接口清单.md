# æ‚£è€…ç«¯ç¼ºå¤±æ¥å£æ¸…å•

## ğŸ“‹ å¿«é€Ÿæ¦‚è§ˆ

### éœ€è¦åˆ›å»ºçš„Controller
1. **AppointmentController** (7ä¸ªæ¥å£)
2. **WaitlistController** (5ä¸ªæ¥å£)

---

## ä¸€ã€AppointmentController (7ä¸ªæ¥å£)

### 1. POST /api/appointments
- **åŠŸèƒ½**: åˆ›å»ºé¢„çº¦
- **é¡µé¢**: payment.vue

### 2. GET /api/appointments/patient/{patientId}
- **åŠŸèƒ½**: è·å–æ‚£è€…æ‰€æœ‰é¢„çº¦
- **é¡µé¢**: appointments.vue

### 3. GET /api/appointments/patient/{patientId}/upcoming
- **åŠŸèƒ½**: è·å–å³å°†å°±è¯Šçš„é¢„çº¦
- **é¡µé¢**: index.vue, profile.vue
- **æ³¨æ„**: Serviceéœ€è¦æ–°å¢æ­¤æ–¹æ³•

### 4. GET /api/appointments/{id}
- **åŠŸèƒ½**: è·å–é¢„çº¦è¯¦æƒ…
- **é¡µé¢**: appointment/detail.vue

### 5. PUT /api/appointments/{id}
- **åŠŸèƒ½**: æ›´æ–°é¢„çº¦ï¼ˆæ”¯ä»˜çŠ¶æ€ï¼‰
- **é¡µé¢**: payment.vue

### 6. PUT /api/appointments/{id}/cancel
- **åŠŸèƒ½**: å–æ¶ˆé¢„çº¦
- **é¡µé¢**: appointments.vue, appointment/detail.vue

### 7. POST /api/appointments/{id}/pay
- **åŠŸèƒ½**: æ”¯ä»˜æŒ‚å·è´¹
- **é¡µé¢**: payment.vue
- **æ³¨æ„**: å¯ä¸PUTæ¥å£åˆå¹¶

---

## äºŒã€WaitlistController (5ä¸ªæ¥å£)

### 8. GET /api/waitlist/patient/{patientId}
- **åŠŸèƒ½**: è·å–æ‚£è€…æ‰€æœ‰å€™è¡¥
- **é¡µé¢**: waitlist.vue
- **æ³¨æ„**: Serviceéœ€è¦æ–°å¢æ­¤æ–¹æ³•

### 9. GET /api/waitlist/{id}
- **åŠŸèƒ½**: è·å–å€™è¡¥è¯¦æƒ…
- **é¡µé¢**: waitlist-detail.vue

### 10. POST /api/waitlist
- **åŠŸèƒ½**: åˆ›å»ºå€™è¡¥ç”³è¯·
- **é¡µé¢**: schedules.vue

### 11. PUT /api/waitlist/{id}/cancel
- **åŠŸèƒ½**: å–æ¶ˆå€™è¡¥
- **é¡µé¢**: waitlist.vue, waitlist-detail.vue

### 12. POST /api/waitlist/{id}/pay
- **åŠŸèƒ½**: å€™è¡¥æ”¯ä»˜è½¬é¢„çº¦
- **é¡µé¢**: payment.vue
- **æ³¨æ„**: éœ€è¦åˆ›å»ºWaitlistPaymentRequest DTO

---

## ğŸ”§ éœ€è¦æ–°å¢çš„Serviceæ–¹æ³•

### AppointmentService
```java
// éœ€è¦æ–°å¢
List<AppointmentResponse> findUpcomingAppointmentsByPatient(Integer patientId);
```

### WaitlistService
```java
// éœ€è¦æ–°å¢
List<WaitlistResponse> findWaitlistsByPatient(Integer patientId);

// éœ€è¦æ‰©å±•æˆ–æ–°å¢
AppointmentResponse payForWaitlistAndCreateAppointment(Integer waitlistId, WaitlistPaymentRequest request);
```

---

## ğŸ“¦ éœ€è¦æ–°å¢çš„DTO

### WaitlistPaymentRequest
```java
@Data
public class WaitlistPaymentRequest {
    private String paymentMethod;
    private String transactionId;
}
```

---

## ğŸ“ è¯¦ç»†æ–‡æ¡£

å®Œæ•´çš„æ¥å£æ–‡æ¡£è¯·æŸ¥çœ‹: **æ‚£è€…ç«¯APIæ¥å£æ–‡æ¡£.md**

æ–‡æ¡£åŒ…å«ï¼š
- è¯¦ç»†çš„è¯·æ±‚/å“åº”ç¤ºä¾‹
- æ•°æ®æ ¼å¼è¯´æ˜
- çŠ¶æ€æ˜ å°„è§„åˆ™
- å‰ç«¯é€‚é…å™¨è¯´æ˜
- å®ç°æ³¨æ„äº‹é¡¹

